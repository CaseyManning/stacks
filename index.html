<head>
    <meta name="viewport" content="width=device-width,height=device-height,initial-scale=1.0"/>
    <link rel="stylesheet" href="index.css">
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <link rel="shortcut icon" href="log2.png" type="image/x-icon">  
    <script src="https://cdn.jsdelivr.net/npm/fuzzysort@2.0.4/fuzzysort.min.js"></script>
    <title>Substack Map</title>
</head>
<body>
    <div id="navbar" class="hidden">
        <img src="log.png" id="logo" onclick="window.location.href = ''; window.location.search = ''">
        <input type="text" class="searchbar" id="searchbar" style="font-size: 12pt;" placeholder="Search for a substack" onkeyup="search('searchbar', 'searchresults')">
        <div id="searchresults" style="left: 40px;"></div>
        <div id="rightbit">
            <input type="checkbox" id="semcheck"checked onclick="toggleStrengths()" class="hidden">
            <label for="vehicle1" class="hidden"> Semantic Distance</label>
            <input type="checkbox" id="logcheck"checked onclick="reloadNodes()">
            <label for="vehicle1"> Log Scale</label>
            <input type="checkbox" id="linkscheck" onclick="toggleLines(this.checked)" checked>
            <label for="vehicle1"> Show Links</label>
            <p id="recenter" class="pbutton" onclick="recenter()">Recenter</p>
            <p id="showglobal" class="pbutton" onclick="viewAll()">Global View</p>

            <!-- <input type="checkbox" id="animcheck" checked onclick="stopAnim()">
            <label for="vehicle1"> Animate</label><br> -->
        </div>
    </div>
    <div class="box hidden" id="infobox">
        <h2 id="boxtitle" class="sf" style="color: black;">yo</h2>
        <p id="categorylabel" class="sf" style="font-size: 12pt; margin-top: -6px;">Type: Other</p>
        <p id="boxsubs" style="display: inline;">Number of Subscribers</p> <a href="#" id="boxlink" target="_blank" style="display: inline;">(Visit)</a>
        <!-- <p id="boxdesc">a page of some sort</p> -->
        <!-- <p id="reclist">Reccomended by: <br> a <br> b <br> c </p> -->
        <p id="inlinks" class="sf" style="margin-bottom: 0;"></p>
        <p id="outlinks" class="sf" style="margin-top: 8px"></p>
        <p id="viewbutton" class="sf" onclick="viewClicked(this)">View Neighborhood</p>
    </div>
    <!-- <div id="search" class="box hidden">
        <input type="text" class="searchbar" id="searchbar" placeholder="Search for a substack" onkeyup="search('')">
        <div id="searchresults"></div>
    </div> -->
    <div id="introPage">
        <!-- <img src="header.png" id="header"> -->
        <h1>Every Substack, Mapped</h1>
        <input type="text" class="searchbar" id="introsearchbar" placeholder="Search for a substack" onkeyup="search('introsearchbar', 'introsearchresults')">
        <div id="introsearchresults"></div>
        <div style="margin-top: 30px">
            <p style="display: inline; font-size: 14pt; margin-right: 5px;" class="sf">or</p>
            <button id="allbutton" style="display: inline;" onclick="viewAll()">see them all</button>
            <p style="display: inline; font-size: 12pt; margin-left: 5px;" class="sf">(warning: slow)</p>
        </div>
        <div style="width: 100%; display: flex; justify-content: center; margin-top: 20px;">
            <a id="ilink1" class="sf botlink" style="margin: 0px 10px;" href="https://twitter.com/caseysaccount">by casey</a>
            <a id="ilink2" class="sf botlink" style="margin: 0px 10px;" href="/about.html">about</a>
        </div>
        <p id="introclosebutton" onclick="closeIntro()">x</p>
   </div>
   <a id="randlink" class="sf randlink hidden">viewing random graph: A Newsletter</a>
    <script>if(window.location.search) {
        document.getElementById("introPage").classList.add("hidden");
        document.getElementById("randlink").classList.add("hidden");
      }
      </script>
</body>
<script src="substacks.js" defer></script>
<script src="positionData.js" defer></script>
<script src="forcegraph.js" defer></script>
<script src="index.js" defer></script>
